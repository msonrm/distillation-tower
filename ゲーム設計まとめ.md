**ゲーム設計まとめ**  
**コンセプト**  
「ザルバールの蒸留塔」（1995年、オニオンソフト）のリメイク。オリジナルは比重差による液体分離パズルだったが、本作では**温度ベースの蒸留（分留）** をコアメカニクスに追加。  
  
**ゲームフロー**  
  
  
┌─ 設定フェーズ ─────────────┐  
│  壁・パイプの設置/削除      │  
│  金属ブロックの配置         │  
├─ 実行フェーズ ─────────────┤  
│  液体流入開始              │  
│  指タッチで金属を加熱/冷却   │  
│  壁の変更は不可            │  
├─ クリア判定 ───────────────┤  
│  目標純度・量を達成したら   │  
│  ステージクリア            │  
└────────────────────────────┘  
  
**操作システム**  

| 要素     | 操作                    |
| ------ | --------------------- |
| 壁      | 設定フェーズで設置/削除          |
| 金属ブロック | 設定フェーズで配置、実行中に指タッチで作動 |
  
**金属の種類:**  

| 金属   | 効果          |
| ---- | ----------- |
| 🔴 赤銅 | 触れると高温（加熱用） |
| 🔵 青鋼 | 触れると低温（冷却用） |
  
**架空液体**  

| 名前   | 色  | 比重 | 沸点 |
| ---- | -- | -- | -- |
| アクア  | 💧青 | 中  | 中  |
| オレオ  | 🟡黄 | 軽  | 高  |
| ルビン  | 🔴赤 | 重  | 低  |
| ヴェルデ | 🟢緑 | 中  | 極低 |
  
※数値は非表示、「重い/軽い」「蒸発しやすい/しにくい」で抽象的に表現  
  
**クリア条件**  
* 指定タンクに、**目標純度以上**の液体を**一定量以上**回収  
  
  
例: ルビンを純度80%以上で50ml回収せよ  
  
**物理エンジン**  
* **ベース**: イジングモデル + カワサキダイナミクス  
* **比重分離**: 密度差による交換確率  
* **相転移**: 温度が沸点を超えると気化、下回ると凝縮  
* **熱伝導**: 隣接セル間で温度拡散  
  
**技術スタック**  
* Next.js 14 + TypeScript  
* Canvas API（描画）  
* Vercel（デプロイ）  
